@model LinkAggregatorMVC.Models.Links

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Links</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Caption)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Caption)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.URL)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.URL)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.LinkPostingDate)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.LinkPostingDate)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Rating)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Rating)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Importance)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Importance)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.TotalClicks)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.TotalClicks)
        </dd>
        @foreach (var imagelink in Model.LinkImages!)
        {
            <dd>
                <img src="~/images/@imagelink.ImagePath" height="150" width="200" asp-append-version="true" />
            </dd>
        }
        @foreach (var category in Model.LinkCategories!)
        {
            var mycategory = ((List<SelectListItem>)ViewData["Categories"]!).Where(x => x.Value == category.CategoriesLookup.ToString()).FirstOrDefault();

            <dd>
                <p>@mycategory!.Text</p>
            </dd>
        }

    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model?.ID">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
